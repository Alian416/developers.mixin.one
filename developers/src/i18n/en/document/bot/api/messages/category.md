# Message Category

Mixin Messenger supports sending text, pictures, stickers, files and other message types. Note that bots currently only support message types with the prefix `PLAIN_`. Sending pictures, videos, files, and videos requires uploading attachments and obtaining attachment id before sending.

### Text
```
{
  "id": "UUID",
  "action":  "CREATE_MESSAGE",
  "params": {
    "conversation_id": "UUID",
    "category": "PLAIN_TEXT",
    "status": "SENT",
    "message_id": "UUID",
    "data": "Base64 encoded data" ,
  }
}
```

### Sticker
```
{
  "id":  "UUID",
  "action":  "CREATE_MESSAGE",
  "params": {
    "conversation_id": "UUID",
    "category": "PLAIN_STICKER",
    "status": "SENT",
    "message_id":  "UUID",
    "data": "Base64 encoded data"
  }
}
```
data 
```
{
  "sticker_id": "UUID"
}
```

### Image
```
{
  "id": "UUID",
  "action": "CREATE_MESSAGE",
  "params": {
    "conversation_id": "UUID"
    "category": "PLAIN_IMAGE"
    "status": "SENT",
    "message_id": "UUID",
    "data": "Base64 encoded data"
  }
}
```
data
```
{
  "attachment_id": "Read From POST /attachments"
  "mime_type": "image/jpeg",
  "width": 1024,
  "height": 1024,
  "size": 1024,
  "thumbnail": "base64 encoded"
}
```

### Audio
```
{
  "id": "UUID",
  "action": "CREATE_MESSAGE",
  "params": {
    "conversation_id": "UUID",
    "category": "PLAIN_AUDIO",
    "status": "SENT",
    "message_id": "UUID",
    "data": "Base64 encoded data"
  }
}
```
data
```
{
  "attachment_id": "Read From POST /attachments"
  "mime_type": "audio/ogg",
  "size": 1024,
  "duration": 60,
  "waveform": "QIQQSA...AAIAA"
}
```

### Video
```
{
  "id": "UUID",
  "action": "CREATE_MESSAGE",
  "params": {
    "conversation_id": "UUID",
    "category": "PLAIN_VIDEO",
    "status": "SENT",
    "message_id": "UUID",
    "data": "Base64 encoded data"
  }
}
```
data
```
{
  "attachment_id": "Read From POST /attachments"
  "mime_type": "video/mp4",
  "width": 1024,
  "height": 1024,
  "size": 1024,
  "duration": 60,
  "thumbnail": "base64 encoded"
}
```

### Contact
```
{
  "id": "UUID",
  "action": "CREATE_MESSAGE",
  "params": {
    "conversation_id": "UUID",
    "category": "PLAIN_CONTACT"
    "status": "SENT",
    "message_id": "UUID",
    "data":  "Base64 encoded data"
  }
}
```
data
```
{
  "user_id": "UUID"
}
```

### App Card
```
{
  "id": "UUID",
  "action": "CREATE_MESSAGE",
  "params": {
    "conversation_id": "UUID",
    "category": "APP_CARD",
    "status": "SENT",
    "message_id": "UUID",
    "data": "Base64 encoded data"
  }
}
```
data
```
{
  "app_id": "7404c815-0393-4ea3-b9f2-b08efe4c72da",
  "icon_url": "https://mixin.one/assets/98b586edb270556d1972112bd7985e9e.png",
  "title": "Mixin",
  "description": "Hello World.",
  "action": "https://mixin.one"
}
```

### File
```
{
  "id":  "UUID",
  "action":  "CREATE_MESSAGE",
  "params": {
    "conversation_id": "UUID",
    "category": "PLAIN_DATA",
    "status": "SENT",
    "message_id": "UUID",
    "data": "Base64 encoded data",
  }
}
```
data
```
{
  "attachment_id": "Read From POST /attachments"
  "mime_type": "application/pdf",
  "size": 1024,
  "name": "2020-12-12.pdf"
}
```

### LIVE
```
{
  "id": "UUID",
  "action": "CREATE_MESSAGE",
  "params": {
    "conversation_id": "UUID",
    "category": "PLAIN_LIVE",
    "status": "SENT",
    "message_id": "UUID",
    "data": "Base64 encoded data"
  }
}
```
data
```
{
  "width": 650,
  "height": 366,
  "thumb_url": "https://mixin.one/logo.png",
  "url": "https://mixin.one/live.m3u8"
}
```

### Location
```
{
  "id": "UUID",
  "action": "CREATE_MESSAGE",
  "params": {
    "conversation_id": "UUID",
    "category": "PLAIN_LOCATION",
    "status": "SENT",
    "message_id": "UUID",
    "data": "Base64 encoded data"
  }
}
```
data
```
{
  "longitude":126.5893955829421,
  "latitude":53.478451778240661,
  "name":"China",           // Optional
  "address":"中国北京市"      // Optional
}
```

### POST
```
{
  "id": "UUID // generated by client", 
  "action":  "CREATE_MESSAGE",
  "params": {
    "conversation_id": "UUID",
    "category": "PLAIN_POST",
    "status": "SENT",
    "message_id": "UUID",
    "data": "Base64 encoded data" ,  // markdown
  }
}
```

### App Button Group
```
{
  "id": "UUID",
  "action": "CREATE_MESSAGE",
  "params": {
    "conversation_id": "UUID",
    "category": "APP_BUTTON_GROUP",
    "status": "SENT",
    "message_id": "UUID",
    "data": "Base64 encoded data"
  }
}
```
data 
```
[{
  "label": "Mixin Website",
  "color": "#ABABAB",
  "action": "https://mixin.one"
},
...
]
```
